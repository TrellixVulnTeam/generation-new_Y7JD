"use strict";

// map with dots
var isActive = 0;
var isLoading = 1;
var funcStatus = true;
var test = 1;
var count = document.querySelectorAll("[data-id]"); //удаляет модальное окно с инфой

function removeClass() {
  var infoCards = document.querySelectorAll("[data-info-id]");
  infoCards.forEach(function (el) {
    el.classList.remove("show");
  });
} //удаляет внешний круг


function removeCircle() {
  count.forEach(function (el) {
    el.style.display = "none";
  });
} //добавляет внешний круг


function addCircle(idx) {
  var circle2 = document.querySelector("[data-id='".concat(idx, "']"));
  circle2.style.display = "block";
}

function ready() {
  function setAround(percent, idx) {
    removeCircle();
    var beforeElemIdx;
    beforeElemIdx = idx === 0 ? count.length - 1 : idx - 1;
    var beforeElem = document.querySelector('[data-id="' + beforeElemIdx + '"]');
    var elem = document.querySelector('[data-id="' + idx + '"]');
    elem.style.display = "block";
    beforeElem.style.display = "block";
    var math = 2 * Math.PI * elem.r.baseVal.value;
    elem.style.strokeDasharray = "".concat(math, " 1000");
    var a = math * (1 - percent / 100);
    elem.style.strokeDashoffset = a;
    percent = percent.toFixed(1);

    if (percent >= 99.5) {
      removeClass();
      var infoShow = document.querySelector("[data-info-id=\"".concat(idx, "\"]"));
      infoShow.classList.add("show");
      isLoading++;

      if (isLoading === count.length) {
        isLoading = 0;
      }
    }
  }

  requestAnimationFrame(draw);

  function draw(t) {
    if (funcStatus === true) {
      var idx = isLoading;
      requestAnimationFrame(draw);
      setAround(t / 30 % 100, idx);
    }
  }
}

var dots = document.querySelectorAll(".dota");
var infoCards = document.querySelectorAll("[data-info-id]");
var closeBtn = document.querySelectorAll(".close-hide");
var circle = document.querySelectorAll("[data-id]");
var i = 0;
dots.forEach(function (el) {
  el.addEventListener("click", function (elem) {
    var idx = el.dataset.dota;
    showInfo(idx);
  });
}); //открывает модальное окно и ставит на паузу

function showInfo(idx) {
  // isLoading = 0;
  removeClass();
  removeCircle();
  addCircle(idx);
  funcStatus = false;
  var elem = document.querySelector("[data-info-id='".concat(idx, "']"));
  elem.classList.add("show"); //должно: при нажатии кружок заполняется на 100%
  //сейчас: при нажатии кружок заполняется на 100%, после возобновлении функции откатывает кружок до заполнения на 100%

  var elem2 = document.querySelector('[data-id="' + idx + '"]');
  elem2.style.strokeDasharray = 0;
}

closeBtn.forEach(function (el) {
  el.addEventListener("click", function () {
    var idx = el.parentNode.dataset.infoId;
    closeInfo(idx);
  });
}); //закрывает модалку и далее запускает функцию

function closeInfo(idx) {
  removeClass();
  ready(idx);
  funcStatus = true; // test = idx;
  // beforeElemIdx = idx;
  // нужно изменить beforeElemIdx на только что нажатый элемент
}

var swiperCardActive = document.querySelectorAll('.card-hide-swiper');
swiperCardActive.forEach(function (el) {// setTimeout(() => {
  //   console.log(el.classList.contains('swiper-slide-active'))
  // }, 100)
  // setInterval(() => {
  //   if(el.classList.contains('swiper-slide-active')) {
  //     console.log("DONE");
  //   }
  // }, 300)
}); // testovaya xuina
// if(window.innerWidth < 768) {
//   console.log("DSADASD");
//   closeInfo(isLoading)
// }
// export { ready }
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvbWFwLW1haW4uanMiXSwibmFtZXMiOlsiaXNBY3RpdmUiLCJpc0xvYWRpbmciLCJmdW5jU3RhdHVzIiwidGVzdCIsImNvdW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2xhc3MiLCJpbmZvQ2FyZHMiLCJmb3JFYWNoIiwiZWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVDaXJjbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRDaXJjbGUiLCJpZHgiLCJjaXJjbGUyIiwicXVlcnlTZWxlY3RvciIsInJlYWR5Iiwic2V0QXJvdW5kIiwicGVyY2VudCIsImJlZm9yZUVsZW1JZHgiLCJsZW5ndGgiLCJiZWZvcmVFbGVtIiwiZWxlbSIsIm1hdGgiLCJNYXRoIiwiUEkiLCJyIiwiYmFzZVZhbCIsInZhbHVlIiwic3Ryb2tlRGFzaGFycmF5IiwiYSIsInN0cm9rZURhc2hvZmZzZXQiLCJ0b0ZpeGVkIiwiaW5mb1Nob3ciLCJhZGQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkcmF3IiwidCIsImRvdHMiLCJjbG9zZUJ0biIsImNpcmNsZSIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YXNldCIsImRvdGEiLCJzaG93SW5mbyIsImVsZW0yIiwicGFyZW50Tm9kZSIsImluZm9JZCIsImNsb3NlSW5mbyIsInN3aXBlckNhcmRBY3RpdmUiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFFQSxJQUFJQSxRQUFRLEdBQUcsQ0FBZjtBQUNBLElBQUlDLFNBQVMsR0FBRyxDQUFoQjtBQUNBLElBQUlDLFVBQVUsR0FBRyxJQUFqQjtBQUNBLElBQUlDLElBQUksR0FBRyxDQUFYO0FBQ0EsSUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUNDLGdCQUFULENBQTBCLFdBQTFCLENBQWQsQyxDQUVBOztBQUNBLFNBQVNDLFdBQVQsR0FBdUI7QUFDckIsTUFBSUMsU0FBUyxHQUFHSCxRQUFRLENBQUNDLGdCQUFULENBQTBCLGdCQUExQixD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O0FBQ2pDLFFBQUk3QixHQUFHLEdBQUdQLEVBQUUsQ0FBQ3lDLFVBQUgsQ0FBY0osT0FBZCxDQUFzQkssTUFBaEM7QUFDQUMsSUFBQUEsU0FBUyxDQUFDcEMsR0FBRCxDQUFUO0FBQ0QsR0FIRDtBQUlELENBTEQsRSxDQU9BOztBQUNBLFNBQVNvQyxTQUFULENBQW1CcEMsR0FBbkIsRUFBd0I7QUFDdEJWLEVBQUFBLFdBQVc7QUFDWGEsRUFBQUEsS0FBSyxDQUFDSCxHQUFELENBQUw7QUFDQWYsRUFBQUEsVUFBVSxHQUFHLElBQWIsQ0FIc0IsQ0FJdEI7QUFDQTtBQUNBO0FBQ0Q7O0FBRUQsSUFBTW9ELGdCQUFnQixHQUFHakQsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixtQkFBMUIsQ0FBekI7QUFFQWdELGdCQUFnQixDQUFDN0MsT0FBakIsQ0FBeUIsVUFBQ0MsRUFBRCxFQUFRLENBQy9CO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFRCxDQVhELEUsQ0FhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtYXAgd2l0aCBkb3RzXHJcblxyXG52YXIgaXNBY3RpdmUgPSAwO1xyXG52YXIgaXNMb2FkaW5nID0gMTtcclxudmFyIGZ1bmNTdGF0dXMgPSB0cnVlO1xyXG52YXIgdGVzdCA9IDE7XHJcbmNvbnN0IGNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWlkXVwiKTtcclxuXHJcbi8v0YPQtNCw0LvRj9C10YIg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INGBINC40L3RhNC+0LlcclxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoKSB7XHJcbiAgbGV0IGluZm9DYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1pbmZvLWlkXVwiKTtcclxuICBpbmZvQ2FyZHMuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL9GD0LTQsNC70Y/QtdGCINCy0L3QtdGI0L3QuNC5INC60YDRg9CzXHJcbmZ1bmN0aW9uIHJlbW92ZUNpcmNsZSgpIHtcclxuICBjb3VudC5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL9C00L7QsdCw0LLQu9GP0LXRgiDQstC90LXRiNC90LjQuSDQutGA0YPQs1xyXG5mdW5jdGlvbiBhZGRDaXJjbGUoaWR4KSB7XHJcbiAgbGV0IGNpcmNsZTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD0nJHtpZHh9J11gKTtcclxuICBjaXJjbGUyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWR5KCkge1xyXG5cclxuICBmdW5jdGlvbiBzZXRBcm91bmQocGVyY2VudCwgaWR4KSB7XHJcbiAgICByZW1vdmVDaXJjbGUoKTtcclxuICAgIGxldCBiZWZvcmVFbGVtSWR4O1xyXG5cclxuICAgIGJlZm9yZUVsZW1JZHggPSBpZHggPT09IDAgPyBjb3VudC5sZW5ndGggLSAxIDogaWR4IC0gMTtcclxuICAgIGxldCBiZWZvcmVFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgJ1tkYXRhLWlkPVwiJyArIGJlZm9yZUVsZW1JZHggKyAnXCJdJ1xyXG4gICAgKTtcclxuICAgIGxldCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9XCInICsgaWR4ICsgJ1wiXScpO1xyXG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgYmVmb3JlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgY29uc3QgbWF0aCA9IDIgKiBNYXRoLlBJICogZWxlbS5yLmJhc2VWYWwudmFsdWU7XHJcblxyXG4gICAgZWxlbS5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBgJHttYXRofSAxMDAwYDtcclxuXHJcbiAgICBsZXQgYSA9IG1hdGggKiAoMSAtIHBlcmNlbnQgLyAxMDApO1xyXG4gICAgZWxlbS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gYTtcclxuICAgIHBlcmNlbnQgPSBwZXJjZW50LnRvRml4ZWQoMSk7XHJcbiAgICBpZiAocGVyY2VudCA+PSA5OS41KSB7XHJcbiAgICAgIHJlbW92ZUNsYXNzKCk7XHJcbiAgICAgIGxldCBpbmZvU2hvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWluZm8taWQ9XCIke2lkeH1cIl1gKTtcclxuICAgICAgaW5mb1Nob3cuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgIGlzTG9hZGluZysrO1xyXG4gICAgICBpZiAoaXNMb2FkaW5nID09PSBjb3VudC5sZW5ndGgpIHtcclxuICAgICAgICBpc0xvYWRpbmcgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XHJcbiAgZnVuY3Rpb24gZHJhdyh0KSB7XHJcbiAgICBpZiAoZnVuY1N0YXR1cyA9PT0gdHJ1ZSkge1xyXG4gICAgICBsZXQgaWR4ID0gaXNMb2FkaW5nO1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XHJcbiAgICAgIHNldEFyb3VuZCgodCAvIDMwKSAlIDEwMCwgaWR4KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG52YXIgZG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZG90YVwiKTtcclxudmFyIGluZm9DYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1pbmZvLWlkXVwiKTtcclxudmFyIGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jbG9zZS1oaWRlXCIpO1xyXG5cclxubGV0IGNpcmNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1pZF1cIik7XHJcblxyXG5sZXQgaSA9IDA7XHJcblxyXG5kb3RzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlbGVtKSA9PiB7XHJcbiAgICBsZXQgaWR4ID0gZWwuZGF0YXNldC5kb3RhO1xyXG4gICAgc2hvd0luZm8oaWR4KTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vL9C+0YLQutGA0YvQstCw0LXRgiDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0Lgg0YHRgtCw0LLQuNGCINC90LAg0L/QsNGD0LfRg1xyXG5mdW5jdGlvbiBzaG93SW5mbyhpZHgpIHtcclxuICAvLyBpc0xvYWRpbmcgPSAwO1xyXG4gIHJlbW92ZUNsYXNzKCk7XHJcbiAgcmVtb3ZlQ2lyY2xlKCk7XHJcbiAgYWRkQ2lyY2xlKGlkeCk7XHJcbiAgZnVuY1N0YXR1cyA9IGZhbHNlO1xyXG4gIGxldCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaW5mby1pZD0nJHtpZHh9J11gKTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG5cclxuICAvL9C00L7Qu9C20L3Qvjog0L/RgNC4INC90LDQttCw0YLQuNC4INC60YDRg9C20L7QuiDQt9Cw0L/QvtC70L3Rj9C10YLRgdGPINC90LAgMTAwJVxyXG4gIC8v0YHQtdC50YfQsNGBOiDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0LrRgNGD0LbQvtC6INC30LDQv9C+0LvQvdGP0LXRgtGB0Y8g0L3QsCAxMDAlLCDQv9C+0YHQu9C1INCy0L7Qt9C+0LHQvdC+0LLQu9C10L3QuNC4INGE0YPQvdC60YbQuNC4INC+0YLQutCw0YLRi9Cy0LDQtdGCINC60YDRg9C20L7QuiDQtNC+INC30LDQv9C+0LvQvdC10L3QuNGPINC90LAgMTAwJVxyXG4gIGxldCBlbGVtMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWlkPVwiJyArIGlkeCArICdcIl0nKTtcclxuICBlbGVtMi5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSAwO1xyXG5cclxufVxyXG5cclxuY2xvc2VCdG4uZm9yRWFjaCgoZWwpID0+IHtcclxuICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbGV0IGlkeCA9IGVsLnBhcmVudE5vZGUuZGF0YXNldC5pbmZvSWQ7XHJcbiAgICBjbG9zZUluZm8oaWR4KTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vL9C30LDQutGA0YvQstCw0LXRgiDQvNC+0LTQsNC70LrRgyDQuCDQtNCw0LvQtdC1INC30LDQv9GD0YHQutCw0LXRgiDRhNGD0L3QutGG0LjRjlxyXG5mdW5jdGlvbiBjbG9zZUluZm8oaWR4KSB7XHJcbiAgcmVtb3ZlQ2xhc3MoKTtcclxuICByZWFkeShpZHgpO1xyXG4gIGZ1bmNTdGF0dXMgPSB0cnVlO1xyXG4gIC8vIHRlc3QgPSBpZHg7XHJcbiAgLy8gYmVmb3JlRWxlbUlkeCA9IGlkeDtcclxuICAvLyDQvdGD0LbQvdC+INC40LfQvNC10L3QuNGC0YwgYmVmb3JlRWxlbUlkeCDQvdCwINGC0L7Qu9GM0LrQviDRh9GC0L4g0L3QsNC20LDRgtGL0Lkg0Y3Qu9C10LzQtdC90YJcclxufVxyXG5cclxuY29uc3Qgc3dpcGVyQ2FyZEFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWhpZGUtc3dpcGVyJyk7XHJcblxyXG5zd2lwZXJDYXJkQWN0aXZlLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS1hY3RpdmUnKSlcclxuICAvLyB9LCAxMDApXHJcbiAgXHJcbiAgLy8gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gIC8vICAgaWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtYWN0aXZlJykpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coXCJET05FXCIpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH0sIDMwMClcclxuICBcclxufSlcclxuXHJcbi8vIHRlc3RvdmF5YSB4dWluYVxyXG4vLyBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKFwiRFNBREFTRFwiKTtcclxuLy8gICBjbG9zZUluZm8oaXNMb2FkaW5nKVxyXG4vLyB9XHJcbi8vIGV4cG9ydCB7IHJlYWR5IH0iXSwiZmlsZSI6Im1vZHVsZXMvbWFwLW1haW4uanMifQ==